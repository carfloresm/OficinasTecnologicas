<div class = "container-fluid">
  <div class = "row">
    <div class = "col-lg-12">
      <form id = "contactanos" [formGroup]="form" class = "col-sm-10 col-lg-7 mx-auto"
        novalidate
        action="../../../assets/PHP/controllers/controllersform.php" 
        method="post">
        <fieldset>
          <div class = "form-row">
            <div class = "col-lg-12">
              <legend>Formulario de contacto</legend>
            </div>

            <div class = "form-group col-12 col-md-6 col-lg-6">
              <label for = "nombre">Nombre*</label>
                <input id = "nombre" formControlName="nombre" class = "form-control" type="text" name="nombre" 
                  placeholder="Nombre">

              <div *ngIf = "form.get('nombre').hasError('required') && form.get('nombre').touched">
                <p *ngIf = "form.get('nombre').hasError('required')" class = "requerido">El nombre es requerido.</p>
              </div>
              <div>
                <p *ngIf = "form.get('nombre').hasError('minlength')" class = "requerido">El nombre debe tener 8 caracteres como mínimo.</p>
              </div>
            </div>

            <div class = "form-group col-12 col-md-6 col-lg-6">
              <label for = "telefono">Teléfono*</label>
                <input id = "telefono" formControlName="telefono" class = "form-control" type="tel" name="telefono" 
                  placeholder="Teléfono">

              <div *ngIf = "form.get('telefono').hasError('required') && form.get('telefono').touched">
                <p *ngIf = "form.get('telefono').hasError('required')" class = "requerido">El número de teléfono es requerido.</p>
              </div>
              <div>
                  <p *ngIf = "form.get('telefono').hasError('minlength')" class = "requerido">El número telefónico debe tener 8 caracteres como mínimo.</p>
                  <p *ngIf = "form.get('telefono').hasError('pattern')" class = "requerido">El número telefónico debe ser numerico y sin guiones.</p>
              </div>
            </div>

            <div class = "form-group col-12">
              <label for = "email">Correo electrónico*</label>
                <input id = "email" formControlName="email" class = "form-control" type = "email" name="email" 
                  placeholder="E-mail">

              <div *ngIf = "form.get('email').hasError('required') && form.get('email').touched">
                <p *ngIf = "form.get('email').hasError('required')" class = "requerido">El correo electrónico es requerido.</p>
                </div>
              <div>
                <p *ngIf = "form.get('email').hasError('email')" class = "requerido">Debe introducir una dirección de correo válida.</p>             
              </div>
            </div>

            <div class = "form-group col-12">
              <label for = "asunto">Asunto*</label>
                <input id = "asunto" formControlName="asunto" class = "form-control" type = "text" name="asunto" 
                  placeholder="Asunto">

              <div *ngIf = "form.get('asunto').hasError('required') && form.get('asunto').touched">
                <p *ngIf = "form.get('asunto').hasError('required')" class = "requerido">El asunto es requerido.</p>
              </div>

              <div>
                <p *ngIf = "form.get('asunto').hasError('minlength')" class = "requerido">El asunto debe tener 4 caracteres como mínimo.</p>
              </div>
            </div>

            <div class = "form-group col-12">
              <label for = "mensaje">Mensaje*</label>
                <textarea id = "mensaje" formControlName="mensaje" class = "form-control" type = "text" name="mensaje" 
                  placeholder="Comentarios"></textarea>

              <div *ngIf = "form.get('mensaje').hasError('required') && form.get('mensaje').touched">
                <p *ngIf = "form.get('mensaje').hasError('required')" class = "requerido">El mensaje es requerido.</p>
              </div>

              <div>
                <p *ngIf = "form.get('mensaje').hasError('minlength')" class = "requerido">El mensaje debe tener 10 caracteres como mínimo.</p>
              </div>
            </div>

            <div class = "col-12 col-lg-8 mt-4 mb-4">
              <div id = "recaptcha">    
                <script>
                  grecaptcha.ready(function() {
                    grecaptcha.execute('6LfWRHoUAAAAAIWhO-tTnjtV4PeOAippzlmQy3-L', {action: 'homepage'})
                    .then(function(token) {
                      // Verify the token on the server.
                    });
                  });
                </script>
              </div>
            </div>
          
            <div class = "col-12">
              <button class = "btn btn-success mt-2" [disabled]="form.invalid" type = "submit" name = "submit">Enviar</button>
            </div>
          </div>  
        </fieldset>
      </form>
    </div>
  </div>
</div>